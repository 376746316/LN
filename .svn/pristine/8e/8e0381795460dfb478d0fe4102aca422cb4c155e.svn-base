<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.chinasofti.cetp.practice.dao.StuWeeklyMapper">
	<resultMap id="BaseResultMap" type="com.chinasofti.cetp.practice.model.StuWeekly">
		<id column="SW_WEEKLY_ID" property="swWeeklyId" jdbcType="INTEGER" />
		<result column="SW_WEEKLY_TITLE" property="swWeeklyTitle"
			jdbcType="VARCHAR" />
		<result column="SW_WEEKLY_TIME" property="swWeeklyTime"
			jdbcType="INTEGER" />
		<result column="SW_CONTENT_URL" property="swContentUrl"
			jdbcType="VARCHAR" />
		<result column="SW_WEEKLY_REGTIME" property="swWeeklyRegtime"
			jdbcType="TIMESTAMP" />
	</resultMap>
	
	<resultMap id="ResultMapWithBLOBs" type="com.chinasofti.cetp.practice.model.MoreStuWeekly"  >
    	<id column="SW_WEEKLY_ID" property="swWeeklyId" jdbcType="INTEGER" />
		<result column="SW_WEEKLY_TITLE" property="swWeeklyTitle"
			jdbcType="VARCHAR" />
		<result column="SW_WEEKLY_TIME" property="swWeeklyTime"
			jdbcType="INTEGER" />
		<result column="SW_CONTENT_URL" property="swContentUrl"
			jdbcType="VARCHAR" />
		<result column="SW_WEEKLY_REGTIME" property="swWeeklyRegtime"
			jdbcType="TIMESTAMP" />
		<result column="STU_NAME" property="stuName" jdbcType="VARCHAR" />
		<result column="PRAC_NAME" property="pracName" jdbcType="VARCHAR" />
  </resultMap>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		<where>
			<foreach collection="oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Update_By_Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		<where>
			<foreach collection="example.oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		SW_WEEKLY_ID, SW_STU_ID, SW_PRACTICE_ID, SW_WEEKLY_TITLE,
		SW_WEEKLY_TIME, SW_CONTENT_URL,
		SW_WEEKLY_REGTIME
	</sql>
	<select id="selectByExample" resultMap="BaseResultMap"
		parameterType="com.chinasofti.cetp.practice.model.StuWeeklyExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		from tp_stu_weekly
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
	</select>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		select
		<include refid="Base_Column_List" />
		from tp_stu_weekly
		where SW_WEEKLY_ID = #{swWeeklyId,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		delete from tp_stu_weekly
		where SW_WEEKLY_ID =
		#{swWeeklyId,jdbcType=INTEGER}
	</delete>
	<delete id="deleteByExample" parameterType="com.chinasofti.cetp.practice.model.StuWeeklyExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		delete from tp_stu_weekly
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</delete>
	<insert id="insert" parameterType="com.chinasofti.cetp.practice.model.StuWeekly">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		insert into tp_stu_weekly (SW_WEEKLY_ID, SW_STU_ID, SW_PRACTICE_ID,
		SW_WEEKLY_TITLE, SW_WEEKLY_TIME, SW_CONTENT_URL,
		SW_WEEKLY_REGTIME)
		values (#{swWeeklyId,jdbcType=INTEGER}, #{swStuId,jdbcType=INTEGER},
		#{swPracticeId,jdbcType=INTEGER},
		#{swWeeklyTitle,jdbcType=VARCHAR},
		#{swWeeklyTime,jdbcType=INTEGER}, #{swContentUrl,jdbcType=VARCHAR},
		now())
	</insert>
	<insert id="insertSelective" parameterType="com.chinasofti.cetp.practice.model.StuWeekly">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		insert into tp_stu_weekly
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="swWeeklyId != null">
				SW_WEEKLY_ID,
			</if>
			<if test="swStuId != null">
				SW_STU_ID,
			</if>
			<if test="swPracticeId != null">
				SW_PRACTICE_ID,
			</if>
			<if test="swWeeklyTitle != null">
				SW_WEEKLY_TITLE,
			</if>
			<if test="swWeeklyTime != null">
				SW_WEEKLY_TIME,
			</if>
			<if test="swContentUrl != null">
				SW_CONTENT_URL,
			</if>
			<if test="swWeeklyRegtime != null">
				SW_WEEKLY_REGTIME,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="swWeeklyId != null">
				#{swWeeklyId,jdbcType=INTEGER},
			</if>
			<if test="swStuId != null">
				#{swStuId,jdbcType=INTEGER},
			</if>
			<if test="swPracticeId != null">
				#{swPracticeId,jdbcType=INTEGER},
			</if>
			<if test="swWeeklyTitle != null">
				#{swWeeklyTitle,jdbcType=VARCHAR},
			</if>
			<if test="swWeeklyTime != null">
				#{swWeeklyTime,jdbcType=INTEGER},
			</if>
			<if test="swContentUrl != null">
				#{swContentUrl,jdbcType=VARCHAR},
			</if>
			<if test="swWeeklyRegtime != null">
				#{swWeeklyRegtime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	<select id="countByExample" parameterType="com.chinasofti.cetp.practice.model.StuWeeklyExample"
		resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		select count(*) from tp_stu_weekly
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByExampleSelective" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		update tp_stu_weekly
		<set>
			<if test="record.swWeeklyId != null">
				SW_WEEKLY_ID = #{record.swWeeklyId,jdbcType=INTEGER},
			</if>
			<if test="record.swStuId != null">
				SW_STU_ID = #{record.swStuId,jdbcType=INTEGER},
			</if>
			<if test="record.swPracticeId != null">
				SW_PRACTICE_ID = #{record.swPracticeId,jdbcType=INTEGER},
			</if>
			<if test="record.swWeeklyTitle != null">
				SW_WEEKLY_TITLE =
				#{record.swWeeklyTitle,jdbcType=VARCHAR},
			</if>
			<if test="record.swWeeklyTime != null">
				SW_WEEKLY_TIME = #{record.swWeeklyTime,jdbcType=INTEGER},
			</if>
			<if test="record.swContentUrl != null">
				SW_CONTENT_URL = #{record.swContentUrl,jdbcType=VARCHAR},
			</if>
			<if test="record.swWeeklyRegtime != null">
				SW_WEEKLY_REGTIME =
				#{record.swWeeklyRegtime,jdbcType=TIMESTAMP},
			</if>
		</set>
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExample" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		update tp_stu_weekly
		set SW_WEEKLY_ID =
		#{record.swWeeklyId,jdbcType=INTEGER},
		SW_STU_ID =
		#{record.swStuId,jdbcType=INTEGER},
		SW_PRACTICE_ID =
		#{record.swPracticeId,jdbcType=INTEGER},
		SW_WEEKLY_TITLE =
		#{record.swWeeklyTitle,jdbcType=VARCHAR},
		SW_WEEKLY_TIME =
		#{record.swWeeklyTime,jdbcType=INTEGER},
		SW_CONTENT_URL =
		#{record.swContentUrl,jdbcType=VARCHAR},
		SW_WEEKLY_REGTIME =
		#{record.swWeeklyRegtime,jdbcType=TIMESTAMP}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByPrimaryKeySelective" parameterType="com.chinasofti.cetp.practice.model.StuWeekly">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		update tp_stu_weekly
		<set>
			<if test="swStuId != null">
				SW_STU_ID = #{swStuId,jdbcType=INTEGER},
			</if>
			<if test="swPracticeId != null">
				SW_PRACTICE_ID = #{swPracticeId,jdbcType=INTEGER},
			</if>
			<if test="swWeeklyTitle != null">
				SW_WEEKLY_TITLE = #{swWeeklyTitle,jdbcType=VARCHAR},
			</if>
			<if test="swWeeklyTime != null">
				SW_WEEKLY_TIME = #{swWeeklyTime,jdbcType=INTEGER},
			</if>
			<if test="swContentUrl != null">
				SW_CONTENT_URL = #{swContentUrl,jdbcType=VARCHAR},
			</if>
			<if test="swWeeklyRegtime != null">
				SW_WEEKLY_REGTIME =
				#{swWeeklyRegtime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where SW_WEEKLY_ID = #{swWeeklyId,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.chinasofti.cetp.practice.model.StuWeekly">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jul 29 
			15:08:33 CST 2013. -->
		update tp_stu_weekly
		set SW_STU_ID = #{swStuId,jdbcType=INTEGER},
		SW_PRACTICE_ID = #{swPracticeId,jdbcType=INTEGER},
		SW_WEEKLY_TITLE =
		#{swWeeklyTitle,jdbcType=VARCHAR},
		SW_WEEKLY_TIME =
		#{swWeeklyTime,jdbcType=INTEGER},
		SW_CONTENT_URL =
		#{swContentUrl,jdbcType=VARCHAR},
		SW_WEEKLY_REGTIME =
		#{swWeeklyRegtime,jdbcType=TIMESTAMP}
		where SW_WEEKLY_ID =
		#{swWeeklyId,jdbcType=INTEGER}
	</update>
	<!-- add by 实习生 -->
	<select id="selectStuWeekly" resultMap="ResultMapWithBLOBs">
		select
				tsw.SW_WEEKLY_ID, 
				tsw.SW_WEEKLY_TITLE,
				tsw.SW_WEEKLY_TIME,
				tsw.SW_CONTENT_URL,
				tsw.SW_WEEKLY_REGTIME,
				ts.STU_NAME,
				tp.PRAC_NAME
         from	 	
              tp_stu_weekly tsw 
			  inner join 	tp_student ts 
						on 	ts.STU_NO=tsw.SW_STU_ID
			  inner join 	tp_practice tp
						on 	tp.PRAC_ID= tsw.SW_PRACTICE_ID
		
	</select>
	<select id="selectQueryWeekly" parameterType="HashMap" resultMap="ResultMapWithBLOBs" >
		select
				tsw.SW_WEEKLY_ID, 
				tsw.SW_WEEKLY_TITLE,
				tsw.SW_WEEKLY_TIME,
				tsw.SW_CONTENT_URL,
				tsw.SW_WEEKLY_REGTIME,
				ts.STU_NAME,
				tp.PRAC_NAME
		from 	tp_stu_weekly tsw 
			  inner join 	tp_student ts 
						on 	ts.STU_NO=tsw.SW_STU_ID
			  inner join 	tp_practice tp
						on 	tp.PRAC_ID= tsw.SW_PRACTICE_ID
		
	  <if test="selecttitle !=null and selecttitle !=''">
      		and	tsw.SW_WEEKLY_TITLE like #{selecttitle}
      </if>
      <if test="selectname !=null and selectname !=''">
      		and	ts.STU_NAME like #{selectname}
      </if>
      <if test="selectprac !=null and selectprac !=''">
      		and	tp.PRAC_NAME like #{selectprac}
      </if>
      <if test="teacherId !=null">
      		and	tp.PRAC_TEACHER like #{teacherId}
      </if>
      <if test="selectdata !=null and selectdata !=''">
      		and	tsw.SW_WEEKLY_TIME = #{selectdata}
      </if>
	</select>
	<select id="selectByWeeklyId" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 25 19:47:24 CST 2013.
    -->
    select
					tsw.SW_WEEKLY_ID, 
					tsw.SW_WEEKLY_TITLE,
					tsw.SW_WEEKLY_TIME,
					tsw.SW_CONTENT_URL,
					tsw.SW_WEEKLY_REGTIME,
					ts.STU_NAME,
					tp.PRAC_NAME
		from 	tp_stu_weekly tsw 
  inner join	 	tp_student ts 
			on 	ts.STU_NO=tsw.SW_STU_ID
  inner join 	tp_practice tp
			on 	tp.PRAC_ID= tsw.SW_PRACTICE_ID
      where 	tsw.SW_WEEKLY_ID = #{swWeeklyId,jdbcType=INTEGER}
  </select>
</mapper>