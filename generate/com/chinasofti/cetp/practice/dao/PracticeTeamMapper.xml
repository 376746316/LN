<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.chinasofti.cetp.practice.dao.PracticeTeamMapper">
	<resultMap id="BaseResultMap"
		type="com.chinasofti.cetp.practice.model.PracticeTeam">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		<id column="TEAM_ID" property="teamId" jdbcType="INTEGER" />
		<result column="TEAM_PRAC_ID" property="teamPracId" jdbcType="INTEGER" />
		<result column="TEAM_NAME" property="teamName" jdbcType="VARCHAR" />
		<result column="TEAM_SOLAGN" property="teamSolagn" jdbcType="VARCHAR" />
		<result column="TEAM_LOGO_URL" property="teamLogoUrl" jdbcType="VARCHAR" />
		<result column="TEAM_LEADER_NO" property="teamLeaderNo"
			jdbcType="INTEGER" />
		<result column="TEAM_LEADER_NAME" property="teamLeaderName"
			jdbcType="VARCHAR" />
		<result column="TEAM_PRO_ID" property="teamProId" jdbcType="INTEGER" />
		<result column="TEAM_REAL_SCORE" property="teamRealScore"
			jdbcType="INTEGER" />
		<result column="TEAM_REGTIME" property="teamRegtime" jdbcType="TIMESTAMP" />
	</resultMap>


	<resultMap id="ResultMapWithBLOBs"
		type="com.chinasofti.cetp.practice.model.PracticeTeamWithBLOBs"
		extends="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		<result column="TEAM_SUMMARY" property="teamSummary" jdbcType="LONGVARCHAR" />
		<result column="TEAM_EVALUATE" property="teamEvaluate"
			jdbcType="LONGVARCHAR" />
	</resultMap>
	<!-- start by yf -->
	<resultMap id="ResultMapWithPercent"
		type="com.chinasofti.cetp.practice.model.MoreMorePracticeTeam"
		extends="BaseResultMap">
		<result column="TEAM_NUM" property="teamNum" jdbcType="INTEGER" />
		<result column="PRO_NAME" property="proName" jdbcType="VARCHAR" />
		<result column="finPercent" property="finPercent" jdbcType="DOUBLE" />
	</resultMap>
	<resultMap id="MoreMoreMorePracticeTeam"
		type="com.chinasofti.cetp.practice.model.MoreMoreMorePracticeTeam"
		extends="BaseResultMap">
		<result column="PRAC_NAME" property="pracName" jdbcType="VARCHAR" />
		<result column="PRO_NAME" property="proName" jdbcType="VARCHAR" />
		<result column="TEAM_SUMMARY" property="teamSummary" jdbcType="LONGVARCHAR" />
	</resultMap>
	<!-- end by yf -->

	<!--baoyu -->
	<resultMap id="selResultMap"
		type="com.chinasofti.cetp.practice.model.MorePracticeTeam">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		<id column="TEAM_ID" property="teamId" jdbcType="INTEGER" />
		<result column="TEAM_PRAC_ID" property="teamPracId" jdbcType="INTEGER" />
		<result column="TEAM_NAME" property="teamName" jdbcType="VARCHAR" />
		<result column="TEAM_SOLAGN" property="teamSolagn" jdbcType="VARCHAR" />
		<result column="TEAM_LOGO_URL" property="teamLogoUrl" jdbcType="VARCHAR" />
		<result column="TEAM_LEADER_NO" property="teamLeaderNo"
			jdbcType="INTEGER" />
		<result column="TEAM_LEADER_NAME" property="teamLeaderName"
			jdbcType="VARCHAR" />
		<result column="TEAM_PRO_ID" property="teamProId" jdbcType="INTEGER" />
		<result column="TEAM_REAL_SCORE" property="teamRealScore"
			jdbcType="INTEGER" />
		<result column="TEAM_REGTIME" property="teamRegtime" jdbcType="TIMESTAMP" />

		<result column="TEAM_NUM" property="teamNum" jdbcType="INTEGER" />
		<result column="PRO_NAME" property="proName" jdbcType="VARCHAR" />
	</resultMap>

	<resultMap id="selResultMap2" type="com.chinasofti.cetp.practice.model.MorePro">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		<id column="PRO_ID" property="proId" jdbcType="INTEGER" />															<!-- 案例编号 -->
		<result column="PRO_NAME" property="proName" jdbcType="VARCHAR" />											<!-- 案例名称 -->
		<result column="PRO_STYLE" property="proStyle" jdbcType="CHAR" />												<!-- 案例类型 -->
		<result column="PRO_TYPE_ID" property="proTypeId" jdbcType="INTEGER" />									<!-- 案例分类ID -->
		<result column="PRO_IS_TEAM" property="proIsTeam" jdbcType="CHAR" />										<!-- 是否为团队项目 -->
		<result column="PRO_DOMAIN" property="proDomain" jdbcType="CHAR" />										<!-- 应用领域 -->
		<result column="PRO_LANGUAGE" property="proLanguage" jdbcType="VARCHAR" />							<!-- 开发语言 -->
		<result column="PRO_TIME" property="proTime" jdbcType="INTEGER" />											<!-- 项目周期 -->
		<result column="PRO_TIME_SUFFIX" property="proTimeSuffix"
			jdbcType="CHAR" />							<!-- 时间单位 -->
		<result column="PRO_DIFFCULT" property="proDiffcult" jdbcType="CHAR" />										<!-- 难度级别 -->
		<result column="PRO_PERSON_NUM" property="proPersonNum"
			jdbcType="INTEGER" />						<!-- 团队人数 -->
		<result column="PRO_OWNER_FLAG" property="proOwnerFlag"
			jdbcType="CHAR" />							<!-- 案例归属 -->
		<result column="PRO_KRYWORD" property="proKryword" jdbcType="VARCHAR" />								<!-- 关键字 -->
		<result column="PRO_PRE_COND" property="proPreCond" jdbcType="VARCHAR" />								<!-- 前提条件 -->
		<result column="PRO_TECH" property="proTech" jdbcType="VARCHAR" />											<!-- 关键技术 -->
		<result column="PRO_USER_NO" property="proUserNo" jdbcType="INTEGER" />									<!-- 记录创建人 -->
		<result column="PRO_REGTIME" property="proRegtime" jdbcType="TIMESTAMP" />		<!-- 记录创建时间 -->
		<result column="TECH_TYPE_NAME" property="techTypeName"
			jdbcType="VARCHAR" />					<!-- 分类名称 -->
		<result column="USER_NAME" property="userName" jdbcType="VARCHAR" />
		<result column="PRO_INTRO" property="proIntro" jdbcType="LONGVARCHAR" />								<!-- 项目简介 -->
		<result column="PRO_TARGET" property="proTarget" jdbcType="LONGVARCHAR" />							<!-- 项目目标 -->
		<result column="PRO_DEV_ENV" property="proDevEnv" jdbcType="LONGVARCHAR" />							<!-- 开发环境 -->									<!-- 用户名称 -->
	</resultMap>

	<resultMap id="selResultMap3" type="com.chinasofti.cetp.practice.model.Student">

		<id column="STU_NO" property="stuNo" jdbcType="INTEGER" />
		<result column="STU_NAME" property="stuName" jdbcType="VARCHAR" />
		<result column="STU_MOBILE" property="stuMobile" jdbcType="VARCHAR" />
		<result column="STU_SEX" property="stuSex" jdbcType="CHAR" />
		<result column="STU_CLASS_ID" property="stuClassId" jdbcType="INTEGER" />
		<result column="CLASS_NAME" property="className" jdbcType="VARCHAR" />

	</resultMap>

	<resultMap id="selResultMap4" type="com.chinasofti.cetp.practice.model.TeamMember">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		<id column="TM_TEAM_ID" property="tmTeamId" jdbcType="INTEGER" />
		<id column="TM_MEMBER_NO" property="tmMemberNo" jdbcType="INTEGER" />
		<result column="TEAM_ID" property="teamId" jdbcType="INTEGER" />
		<result column="TM_MEMBER_NAME" property="tmMemberName"
			jdbcType="VARCHAR" />
		<result column="TM_MEMBER_ROLE" property="tmMemberRole"
			jdbcType="VARCHAR" />
		<result column="TM_MEMBER_IMG" property="tmMemberImg" jdbcType="VARCHAR" />
		<result column="TM_MEMBER_INTRO" property="tmMemberIntro"
			jdbcType="VARCHAR" />
		<result column="TM_HARD_SCORE" property="tmHardScore" jdbcType="INTEGER" />
		<result column="TM_SOFT_SCORE" property="tmSoftScore" jdbcType="INTEGER" />
		<result column="TM_REAL_SCORE" property="tmRealScore" jdbcType="INTEGER" />
		<result column="TM_REGTIME" property="tmRegtime" jdbcType="TIMESTAMP" />
	</resultMap>
	<!--baoyu -->
	<select id="getSummarygriddata" resultMap="MoreMoreMorePracticeTeam"
		parameterType="HashMap">
		SELECT
		A.TEAM_ID
		,A.TEAM_NAME
		,A.TEAM_LEADER_NAME
		,A.TEAM_REGTIME
		,A.TEAM_SUMMARY
		,B.PRAC_NAME
		,C.PRO_NAME
		FROM
		tp_practice_team A
		,tp_practice B
		,tp_pro C
		WHERE
		A.TEAM_PRAC_ID = B.PRAC_ID
		AND
		A.TEAM_PRO_ID = C.PRO_ID
		<if test="selTeamId != null">
			AND A.TEAM_ID LIKE #{selTeamId}
		</if>
		<if test="selTeamName != null">
			AND A.TEAM_NAME LIKE #{selTeamName}
		</if>
		<if test="selTeamLeaderName != null">
			AND A.TEAM_LEADER_NAME LIKE #{selTeamLeaderName}
		</if>
		<if test="selPracName != null">
			AND B.PRAC_NAME LIKE #{selPracName}
		</if>
		AND A.TEAM_SUMMARY IS NOT NULL
		GROUP BY A.TEAM_PRAC_ID
	</select>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		<where>
			<foreach collection="oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Update_By_Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		<where>
			<foreach collection="example.oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		TEAM_ID, TEAM_PRAC_ID, TEAM_NAME, TEAM_SOLAGN, TEAM_LOGO_URL,
		TEAM_LEADER_NO, TEAM_LEADER_NAME,
		TEAM_PRO_ID, TEAM_REAL_SCORE,
		TEAM_REGTIME
	</sql>
	<sql id="Blob_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		TEAM_SUMMARY, TEAM_EVALUATE
	</sql>
	<select id="selectByExampleWithBLOBs" resultMap="ResultMapWithBLOBs"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from tp_practice_team
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
	</select>
	<select id="selectByExample" resultMap="BaseResultMap"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		from tp_practice_team
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>

	</select>
	<select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from tp_practice_team
		where TEAM_ID = #{teamId,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		delete from tp_practice_team
		where TEAM_ID = #{teamId,jdbcType=INTEGER}
	</delete>
	<delete id="deleteByExample"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		delete from tp_practice_team
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</delete>
	<insert id="insert"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		insert into tp_practice_team (TEAM_ID, TEAM_PRAC_ID, TEAM_NAME,
		TEAM_SOLAGN, TEAM_LOGO_URL, TEAM_LEADER_NO,
		TEAM_LEADER_NAME,
		TEAM_PRO_ID, TEAM_REAL_SCORE,
		TEAM_REGTIME, TEAM_SUMMARY, TEAM_EVALUATE
		)
		values (#{teamId,jdbcType=INTEGER}, #{teamPracId,jdbcType=INTEGER},
		#{teamName,jdbcType=VARCHAR},
		#{teamSolagn,jdbcType=VARCHAR},
		#{teamLogoUrl,jdbcType=VARCHAR}, #{teamLeaderNo,jdbcType=INTEGER},
		#{teamLeaderName,jdbcType=VARCHAR}, #{teamProId,jdbcType=INTEGER},
		#{teamRealScore,jdbcType=INTEGER},
		#{teamRegtime,jdbcType=TIMESTAMP},
		#{teamSummary,jdbcType=LONGVARCHAR},
		#{teamEvaluate,jdbcType=LONGVARCHAR}
		)
	</insert>
	<insert id="insertSelective"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamWithBLOBs" useGeneratedKeys="true" keyProperty="teamId">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		insert into tp_practice_team
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="teamId != null">
				TEAM_ID,
			</if>
			<if test="teamPracId != null">
				TEAM_PRAC_ID,
			</if>
			<if test="teamName != null">
				TEAM_NAME,
			</if>
			<if test="teamSolagn != null">
				TEAM_SOLAGN,
			</if>
			<if test="teamLogoUrl != null">
				TEAM_LOGO_URL,
			</if>
			<if test="teamLeaderNo != null">
				TEAM_LEADER_NO,
			</if>
			<if test="teamLeaderName != null">
				TEAM_LEADER_NAME,
			</if>
			<if test="teamProId != null">
				TEAM_PRO_ID,
			</if>
			<if test="teamRealScore != null">
				TEAM_REAL_SCORE,
			</if>
			<if test="teamRegtime != null">
				TEAM_REGTIME,
			</if>
			<if test="teamSummary != null">
				TEAM_SUMMARY,
			</if>
			<if test="teamEvaluate != null">
				TEAM_EVALUATE,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="teamId != null">
				#{teamId,jdbcType=INTEGER},
			</if>
			<if test="teamPracId != null">
				#{teamPracId,jdbcType=INTEGER},
			</if>
			<if test="teamName != null">
				#{teamName,jdbcType=VARCHAR},
			</if>
			<if test="teamSolagn != null">
				#{teamSolagn,jdbcType=VARCHAR},
			</if>
			<if test="teamLogoUrl != null">
				#{teamLogoUrl,jdbcType=VARCHAR},
			</if>
			<if test="teamLeaderNo != null">
				#{teamLeaderNo,jdbcType=INTEGER},
			</if>
			<if test="teamLeaderName != null">
				#{teamLeaderName,jdbcType=VARCHAR},
			</if>
			<if test="teamProId != null">
				#{teamProId,jdbcType=INTEGER},
			</if>
			<if test="teamRealScore != null">
				#{teamRealScore,jdbcType=INTEGER},
			</if>
			<if test="teamRegtime != null">
				#{teamRegtime,jdbcType=TIMESTAMP},
			</if>
			<if test="teamSummary != null">
				#{teamSummary,jdbcType=LONGVARCHAR},
			</if>
			<if test="teamEvaluate != null">
				#{teamEvaluate,jdbcType=LONGVARCHAR},
			</if>
		</trim>
	</insert>
	<select id="countByExample"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamExample"
		resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		select count(*) from tp_practice_team
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByExampleSelective" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		update tp_practice_team
		<set>
			<if test="record.teamId != null">
				TEAM_ID = #{record.teamId,jdbcType=INTEGER},
			</if>
			<if test="record.teamPracId != null">
				TEAM_PRAC_ID = #{record.teamPracId,jdbcType=INTEGER},
			</if>
			<if test="record.teamName != null">
				TEAM_NAME = #{record.teamName,jdbcType=VARCHAR},
			</if>
			<if test="record.teamSolagn != null">
				TEAM_SOLAGN = #{record.teamSolagn,jdbcType=VARCHAR},
			</if>
			<if test="record.teamLogoUrl != null">
				TEAM_LOGO_URL = #{record.teamLogoUrl,jdbcType=VARCHAR},
			</if>
			<if test="record.teamLeaderNo != null">
				TEAM_LEADER_NO = #{record.teamLeaderNo,jdbcType=INTEGER},
			</if>
			<if test="record.teamLeaderName != null">
				TEAM_LEADER_NAME =
				#{record.teamLeaderName,jdbcType=VARCHAR},
			</if>
			<if test="record.teamProId != null">
				TEAM_PRO_ID = #{record.teamProId,jdbcType=INTEGER},
			</if>
			<if test="record.teamRealScore != null">
				TEAM_REAL_SCORE =
				#{record.teamRealScore,jdbcType=INTEGER},
			</if>
			<if test="record.teamRegtime != null">
				TEAM_REGTIME = #{record.teamRegtime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.teamSummary != null">
				TEAM_SUMMARY =
				#{record.teamSummary,jdbcType=LONGVARCHAR},
			</if>
			<if test="record.teamEvaluate != null">
				TEAM_EVALUATE =
				#{record.teamEvaluate,jdbcType=LONGVARCHAR},
			</if>
		</set>
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExampleWithBLOBs" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		update tp_practice_team
		set TEAM_ID =
		#{record.teamId,jdbcType=INTEGER},
		TEAM_PRAC_ID =
		#{record.teamPracId,jdbcType=INTEGER},
		TEAM_NAME =
		#{record.teamName,jdbcType=VARCHAR},
		TEAM_SOLAGN =
		#{record.teamSolagn,jdbcType=VARCHAR},
		TEAM_LOGO_URL =
		#{record.teamLogoUrl,jdbcType=VARCHAR},
		TEAM_LEADER_NO =
		#{record.teamLeaderNo,jdbcType=INTEGER},
		TEAM_LEADER_NAME =
		#{record.teamLeaderName,jdbcType=VARCHAR},
		TEAM_PRO_ID =
		#{record.teamProId,jdbcType=INTEGER},
		TEAM_REAL_SCORE =
		#{record.teamRealScore,jdbcType=INTEGER},
		TEAM_REGTIME =
		#{record.teamRegtime,jdbcType=TIMESTAMP},
		TEAM_SUMMARY =
		#{record.teamSummary,jdbcType=LONGVARCHAR},
		TEAM_EVALUATE =
		#{record.teamEvaluate,jdbcType=LONGVARCHAR}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExample" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		update tp_practice_team
		set TEAM_ID =
		#{record.teamId,jdbcType=INTEGER},
		TEAM_PRAC_ID =
		#{record.teamPracId,jdbcType=INTEGER},
		TEAM_NAME =
		#{record.teamName,jdbcType=VARCHAR},
		TEAM_SOLAGN =
		#{record.teamSolagn,jdbcType=VARCHAR},
		TEAM_LOGO_URL =
		#{record.teamLogoUrl,jdbcType=VARCHAR},
		TEAM_LEADER_NO =
		#{record.teamLeaderNo,jdbcType=INTEGER},
		TEAM_LEADER_NAME =
		#{record.teamLeaderName,jdbcType=VARCHAR},
		TEAM_PRO_ID =
		#{record.teamProId,jdbcType=INTEGER},
		TEAM_REAL_SCORE =
		#{record.teamRealScore,jdbcType=INTEGER},
		TEAM_REGTIME =
		#{record.teamRegtime,jdbcType=TIMESTAMP}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByPrimaryKeySelective"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		update tp_practice_team
		<set>
			<if test="teamPracId != null">
				TEAM_PRAC_ID = #{teamPracId,jdbcType=INTEGER},
			</if>
			<if test="teamName != null">
				TEAM_NAME = #{teamName,jdbcType=VARCHAR},
			</if>
			<if test="teamSolagn != null">
				TEAM_SOLAGN = #{teamSolagn,jdbcType=VARCHAR},
			</if>
			<if test="teamLogoUrl != null">
				TEAM_LOGO_URL = #{teamLogoUrl,jdbcType=VARCHAR},
			</if>
			<if test="teamLeaderNo != null">
				TEAM_LEADER_NO = #{teamLeaderNo,jdbcType=INTEGER},
			</if>
			<if test="teamLeaderName != null">
				TEAM_LEADER_NAME = #{teamLeaderName,jdbcType=VARCHAR},
			</if>
			<if test="teamProId != null">
				TEAM_PRO_ID = #{teamProId,jdbcType=INTEGER},
			</if>
			<if test="teamRealScore != null">
				TEAM_REAL_SCORE = #{teamRealScore,jdbcType=INTEGER},
			</if>
			<if test="teamRegtime != null">
				TEAM_REGTIME = #{teamRegtime,jdbcType=TIMESTAMP},
			</if>
			<if test="teamSummary != null">
				TEAM_SUMMARY = #{teamSummary,jdbcType=LONGVARCHAR},
			</if>
			<if test="teamEvaluate != null">
				TEAM_EVALUATE = #{teamEvaluate,jdbcType=LONGVARCHAR},
			</if>
		</set>
		where TEAM_ID = #{teamId,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKeyWithBLOBs"
		parameterType="com.chinasofti.cetp.practice.model.PracticeTeamWithBLOBs">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		update tp_practice_team
		set TEAM_PRAC_ID =
		#{teamPracId,jdbcType=INTEGER},
		TEAM_NAME =
		#{teamName,jdbcType=VARCHAR},
		TEAM_SOLAGN =
		#{teamSolagn,jdbcType=VARCHAR},
		TEAM_LOGO_URL =
		#{teamLogoUrl,jdbcType=VARCHAR},
		TEAM_LEADER_NO =
		#{teamLeaderNo,jdbcType=INTEGER},
		TEAM_LEADER_NAME =
		#{teamLeaderName,jdbcType=VARCHAR},
		TEAM_PRO_ID =
		#{teamProId,jdbcType=INTEGER},
		TEAM_REAL_SCORE =
		#{teamRealScore,jdbcType=INTEGER},
		TEAM_REGTIME =
		#{teamRegtime,jdbcType=TIMESTAMP},
		TEAM_SUMMARY =
		#{teamSummary,jdbcType=LONGVARCHAR},
		TEAM_EVALUATE =
		#{teamEvaluate,jdbcType=LONGVARCHAR}
		where TEAM_ID =
		#{teamId,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.chinasofti.cetp.practice.model.PracticeTeam">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		update tp_practice_team
		set TEAM_PRAC_ID =
		#{teamPracId,jdbcType=INTEGER},
		TEAM_NAME =
		#{teamName,jdbcType=VARCHAR},
		TEAM_SOLAGN =
		#{teamSolagn,jdbcType=VARCHAR},
		TEAM_LOGO_URL =
		#{teamLogoUrl,jdbcType=VARCHAR},
		TEAM_LEADER_NO =
		#{teamLeaderNo,jdbcType=INTEGER},
		TEAM_LEADER_NAME =
		#{teamLeaderName,jdbcType=VARCHAR},
		TEAM_PRO_ID =
		#{teamProId,jdbcType=INTEGER},
		TEAM_REAL_SCORE =
		#{teamRealScore,jdbcType=INTEGER},
		TEAM_REGTIME =
		#{teamRegtime,jdbcType=TIMESTAMP}
		where TEAM_ID =
		#{teamId,jdbcType=INTEGER}
	</update>

	<update id="updTpPracticeTeam" parameterType="HashMap">
		update
		TP_PRACTICE_TEAM
		set TEAM_PRO_ID = #{proId},
		TEAM_REGTIME = now()
		where
		TEAM_ID = #{teamId}
	</update>
	<select id="getTeamIdByStuNo" parameterType="java.lang.Integer"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from
		tp_practice_team t,
		tp_team_member tm,
		tp_practice p
		where
		tm.TM_MEMBER_NO= #{stuNo}
		and t.TEAM_ID = tm.TM_TEAM_ID
		and p.PRAC_ID
		=t.TEAM_PRAC_ID
		and p.PRAC_STATUS = '3'
	</select>







	<select id="selectPer" parameterType="HashMap" resultMap="selResultMap">

		select
		a.TEAM_PRO_ID,
		a.TEAM_ID,
		a.TEAM_NAME,
		a.TEAM_LEADER_NO,
		a.TEAM_LEADER_NAME,
		b.PRAC_NAME,
		c.PRO_NAME,
		(select count(d.TM_TEAM_ID)
		from TP_TEAM_MEMBER d
		where
		d.TM_TEAM_ID = a.TEAM_ID) as TEAM_NUM
		FROM TP_PRACTICE_TEAM a
		inner join
		TP_PRACTICE b
		on b.PRAC_ID = a.TEAM_PRAC_ID
		left join TP_PRO c
		on
		c.PRO_ID = a.TEAM_PRO_ID
		where b.PRAC_ID = #{pracIdP,jdbcType=INTEGER}
	</select>

	<select id="selectQueryPer" parameterType="HashMap" resultMap="selResultMap">


		select
		a.TEAM_ID,
		a.TEAM_NAME,
		a.TEAM_LEADER_NAME,
		b.PRAC_NAME,
		c.PRO_NAME,
		c.PRO_ID,
		(select count(*)
		from TP_TEAM_MEMBER d
		where
		d.TM_TEAM_ID = a.TEAM_ID) as TEAM_NUM
		FROM TP_PRACTICE_TEAM a
		inner join
		TP_PRACTICE b
		on b.PRAC_ID = a.TEAM_PRAC_ID
		left join TP_PRO c
		on
		c.PRO_ID = a.TEAM_PRO_ID
		where b.PRAC_ID = #{pracIdP,jdbcType=INTEGER}
		<if test="selectTEAM_ID!= null">
			and a.TEAM_ID like #{selectTEAM_ID,jdbcType=INTEGER}
		</if>
		<if test="selectTEAM_NAME != null">
			and a.TEAM_NAME like
			#{selectTEAM_NAME,jdbcType=VARCHAR}
		</if>
		<if test="selectTEAM_LEADER_NAME != null">
			and a.TEAM_LEADER_NAME like
			#{selectTEAM_LEADER_NAME,jdbcType=VARCHAR}
		</if>

	</select>

	<select id="selectAllProName" parameterType="java.lang.Integer"
		resultMap="selResultMap2">

		select
		a.PRO_ID PRO_ID
		,a.PRO_NAME PRO_NAME
		from
		TP_PRO a
		,TP_AVAIL_PRO b
		where
		a.PRO_ID = b.AP_PRO_ID
		and b.AP_PRAC_ID =
		#{pracId,jdbcType=INTEGER}
	</select>

	<select id="selectMember" parameterType="HashMap" resultMap="selResultMap3">

		SELECT
		a.STU_NO STU_NO
		,a.STU_NAME STU_NAME
		,a.STU_SEX STU_SEX
		,b.CLASS_NAME CLASS_NAME
		,a.STU_MOBILE STU_MOBILE

		FROM
		tp_student a,
		tp_class b
		WHERE a.STU_CLASS_ID=b.CLASS_ID
	</select>

	<select id="selectQueryMember" parameterType="HashMap"
		resultMap="selResultMap3">


		SELECT
		a.STU_NO STU_NO
		,a.STU_NAME STU_NAME
		,a.STU_SEX STU_SEX
		,b.CLASS_NAME CLASS_NAME
		,a.STU_MOBILE STU_MOBILE
		FROM
		tp_student a,
		tp_class b,
		tp_practice_class c
		WHERE a.STU_CLASS_ID=b.CLASS_ID
		and
		b.CLASS_ID = c.PC_CLASS_ID
		and c.PC_PRAC_ID =
		#{pracIdP,jdbcType=INTEGER}
		<if test="selectSTU_NO!= null">
			and a.STU_NO like #{selectSTU_NO,jdbcType=INTEGER}
		</if>
		<if test="selectSTU_NAME != null">
			and a.STU_NAME like
			#{selectSTU_NAME,jdbcType=VARCHAR}
		</if>
		<if test="selectCLASS_NAME != null">
			and b.CLASS_NAME like
			#{selectCLASS_NAME,jdbcType=VARCHAR}
		</if>
	</select>

	<insert id="insertBY" parameterType="com.chinasofti.cetp.practice.model.MorePracticeTeam" useGeneratedKeys="true" keyProperty="teamId">
		<!-- edit by Yf 2013-12-03 get key -->
		insert into tp_practice_team
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="teamPracId != null">
				TEAM_PRAC_ID,
			</if>
			<if test="teamName != null">
				TEAM_NAME,
			</if>
			<if test="teamLeaderNo != null">
				TEAM_LEADER_NO,
			</if>
			<if test="teamLeaderName != null">
				TEAM_LEADER_NAME,
			</if>
			<if test="teamProId != null">
				TEAM_PRO_ID,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="teamPracId != null">
				#{teamPracId,jdbcType=INTEGER},
			</if>
			<if test="teamName != null">
				#{teamName,jdbcType=VARCHAR},
			</if>
			<if test="teamLeaderNo != null">
				#{teamLeaderNo,jdbcType=INTEGER},
			</if>
			<if test="teamLeaderName != null">
				#{teamLeaderName,jdbcType=VARCHAR},
			</if>
			<if test="teamProId != null">
				#{teamProId,jdbcType=INTEGER},
			</if>
		</trim>
	</insert>
	<update id="updateBY" parameterType="com.chinasofti.cetp.practice.model.MorePracticeTeam">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		UPDATE
		tp_practice_team
		SET
		TEAM_PRAC_ID= #{teamPracId,jdbcType=INTEGER}
		,TEAM_NAME=#{teamName,jdbcType=VARCHAR}
		,TEAM_LEADER_NO=#{teamLeaderNo,jdbcType=INTEGER}
		,TEAM_LEADER_NAME=
		#{teamLeaderName,jdbcType=VARCHAR}
		<if test="teamProId != null">
			,TEAM_PRO_ID=#{teamProId,jdbcType=INTEGER}
		</if>
		<if test="teamProId == null">
			,TEAM_PRO_ID= null
		</if>
		where
		TEAM_ID = #{teamId,jdbcType=INTEGER}
	</update>

	<select id="selectTeamID" resultMap="selResultMap"
		parameterType="com.chinasofti.cetp.practice.model.MorePracticeTeam">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		select TEAM_ID
		from tp_practice_team
		where TEAM_LEADER_NO=
		#{teamLeaderNo,jdbcType=INTEGER}
	</select>

	<insert id="insertMember" parameterType="com.chinasofti.cetp.practice.model.TeamMember">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		insert into tp_team_member (TM_TEAM_ID,TM_MEMBER_NO,TM_MEMBER_NAME)

		VALUES (#{tmTeamId,jdbcType=INTEGER},
		#{tmMemberNo,jdbcType=INTEGER}
		,
		#{tmMemberName,jdbcType=VARCHAR})

	</insert>

	<select id="selectTeamByPracIdAndTeamId" resultMap="selResultMap"
		parameterType="HashMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->

		select
		a.TEAM_ID,
		a.TEAM_NAME,
		a.TEAM_LEADER_NO,
		a.TEAM_LEADER_NAME,
		a.TEAM_PRO_ID

		FROM tp_practice_team a
		where a.TEAM_ID =
		#{teamId,jdbcType=INTEGER}
		and a.TEAM_PRAC_ID=
		#{pracId,jdbcType=INTEGER}
	</select>

	<select id="selectTeamMemberByTeamId" resultMap="selResultMap4"
		parameterType="HashMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		select TM_MEMBER_NAME,TM_MEMBER_NO
		from tp_team_member
		where
		TM_TEAM_ID=#{teamId,jdbcType=INTEGER}

	</select>
	<!-- add by wangxb -->
	<delete id="deleteTeamMemberByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		delete from tp_team_member
		where TM_TEAM_ID =
		#{teamId,jdbcType=INTEGER}
	</delete>

	<select id="selectByTEAM_LEADER_NO" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Jul 25 
			19:47:24 CST 2013. -->
		select
		<include refid="Base_Column_List" />
		from tp_practice_team
		where TEAM_LEADER_NO =
		#{teamLeaderNo,jdbcType=INTEGER}
	</select>
	<!-- end -->
	<!-- add by yf -->
	<select id="selectTeams" resultMap="ResultMapWithPercent"
		parameterType="map">
		SELECT Ifnull(tp_pro.PRO_NAME, '') AS PRO_NAME,
		Ifnull(d.finPercent, 0)
		* 100 AS finPercent,
		(SELECT Count(0)
		FROM TP_TEAM_MEMBER
		WHERE
		TM_TEAM_ID = tp_practice_team.TEAM_ID) AS TEAM_NUM,
		tp_practice_team.*
		FROM tp_practice_team
		LEFT JOIN tp_pro
		ON team_pro_id = pro_id
		LEFT JOIN
		(SELECT a.PL_TEAM_ID AS ID,
		Ifnull(b.numTaskDone, 0) / Count(*) AS
		finPercent
		FROM tp_team_plan a
		LEFT JOIN (SELECT PL_TEAM_ID,
		Count(*)
		numTaskDone
		FROM tp_team_plan
		WHERE pl_status = '4'
		GROUP BY PL_TEAM_ID)
		b
		ON a.PL_TEAM_ID = b.PL_TEAM_ID
		WHERE a.PL_TEAM_ID IN (SELECT c.TEAM_ID
		FROM tp_practice_team AS c
		WHERE c.TEAM_PRAC_ID =
		#{teamPracId,jdbcType=INTEGER})
		GROUP BY a.PL_TEAM_ID
		ORDER BY
		finPercent DESC) d
		ON team_id = d.ID
		WHERE team_prac_id =
		#{teamPracId,jdbcType=INTEGER}
		<if test="proName != null">
			AND pro_name LIKE #{proName,jdbcType=VARCHAR}
		</if>
		<if test="teamId != null">
			AND team_id LIKE #{teamId,jdbcType=VARCHAR}
		</if>
		<if test="teamName != null">
			AND team_name LIKE #{teamName,jdbcType=VARCHAR}
		</if>
	</select>
	<select id="selectTeamsWithoutProg" resultMap="ResultMapWithPercent"
		parameterType="map">
		SELECT Ifnull(tp_pro.PRO_NAME, '') AS PRO_NAME,
		(SELECT Count(0)
		FROM
		TP_TEAM_MEMBER
		WHERE TM_TEAM_ID = tp_practice_team.TEAM_ID) AS
		TEAM_NUM,
		tp_practice_team.*
		FROM tp_practice_team
		LEFT JOIN tp_pro
		ON
		team_pro_id = pro_id
		WHERE team_prac_id =
		#{teamPracId,jdbcType=INTEGER}
		<if test="proName != null">
			AND pro_name LIKE #{proName,jdbcType=VARCHAR}
		</if>
		<if test="teamId != null">
			AND team_id LIKE #{teamId,jdbcType=VARCHAR}
		</if>
		<if test="teamName != null">
			AND team_name LIKE #{teamName,jdbcType=VARCHAR}
		</if>
	</select>
	<select id="selectMoreMoreMorePracticeTeam" resultMap="MoreMoreMorePracticeTeam"
		parameterType="map">
		SELECT TEAM_ID,
		TEAM_PRAC_ID,
		PRAC_NAME,
		TEAM_PRO_ID,
		PRO_NAME,
		TEAM_NAME,
		TEAM_REAL_SCORE
		FROM tp_practice_team
		INNER JOIN tp_team_member
		ON (
		TEAM_ID = TM_TEAM_ID
		AND TM_MEMBER_NO = #{stuNo,jdbcType=INTEGER} )
		INNER JOIN tp_practice
		ON TEAM_PRAC_ID = PRAC_ID
		INNER JOIN tp_pro
		ON
		TEAM_PRO_ID = PRO_ID
		WHERE 1 = 1
		<if test="proName != null">
			AND PRO_NAME LIKE #{proName,jdbcType=VARCHAR}
		</if>
		<if test="pracName != null">
			AND PRAC_NAME LIKE #{pracName,jdbcType=VARCHAR}
		</if>
	</select>

	<!-- @todu:根据Session中实训组编号，查询该组所属的实训编号 -->
	<!-- @auther：HQ @CreateDate:2013/9/25 -->
	<select id="getPracIdByStuNo" resultType="java.lang.Integer"
		parameterType="java.lang.Integer">
		select team_prac_id
		from tp_practice_team
		where team_id =
		#{teamId}
	</select>

	<!-- @todu:根据Session中实训组编号，查询改组已选项目编号 -->
	<!-- @auther：HQ @CreateDate:2013/9/25 -->
	<select id="getProIdByStuNo" resultMap="ppInfo" parameterType="java.lang.Integer">

		select pp.pp_pro_id,pp.PP_PRAC_ID
		from tp_prac_person pp
		inner join
		tp_practice p
		on pp.pp_prac_Id = p.prac_id
		where pp.pp_stu_id = #{stuNo}
		and p.prac_status = 3

	</select>
	<!-- 团队实训中，未选项目的组长编号 -->
	<select id="isTeamLeader" resultType="Integer"
		parameterType="java.lang.Integer">
		select pt.team_leader_no as teamLeaderNo
		from tp_practice_team pt
		where pt.team_leader_no = #{stuNo}
		and pt.team_pro_id is null
	</select>
	<!-- 团队实训中，已选项目的组长编号 -->
	<select id="fullTeamLeader" resultType="Integer"
		parameterType="java.lang.Integer">
		select pt.team_leader_no as teamLeaderNo
		from tp_practice_team pt
		where pt.team_leader_no = #{stuNo}
		and pt.team_pro_id is not null
	</select>
	<!-- 团队实训中，未选项目的组长编号 -->
	<select id="isTL" resultType="Integer"
		parameterType="java.lang.Integer">
		select pt.team_leader_no as teamLeaderNo
		from tp_practice_team pt
		where pt.team_leader_no = #{stuNo}
	</select>
	
	
	<resultMap type="com.chinasofti.cetp.practice.model.PracPersonKey"
		id="ppInfo">
		<id column="PP_PRAC_ID" property="ppPracId" jdbcType="INTEGER" />
		<id column="PP_PRO_ID" property="ppProId" jdbcType="INTEGER" />
		<id column="PP_STU_ID" property="ppStuId" jdbcType="INTEGER" />

	</resultMap>
	<!-- end -->
</mapper>